<!DOCTYPE html>
<html>

  {% include head.html %}
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/quill/0.20.0/quill.base.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/quill/0.20.0/quill.snow.min.css">
  <link rel="stylesheet" type="text/css" href="{{ site.url }}/dist/css/kattappa.css">
  <link rel="stylesheet" type="text/css" href="{{ site.url }}/static/custom.css">

  <body>
    {% include header.html %}
    <div class="mui-container">
    {{ content }}
    </div>

  {% include footer.html %}
  <script src="//cdnjs.cloudflare.com/ajax/libs/react/0.13.3/react-with-addons.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/quill/0.20.0/quill.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/fetch/0.9.0/fetch.min.js"></script>
  <script src="{{ site.url }}/dist/js/kattappa.js"></script>
  <script>
  var blockUrl = "{{ site.url }}/blocks.json";
  function processData(data) {
    console.log(data);
    for(var i=0; i<data.length; i++) {
      if(!data[i].key) {
        data[i].key = Kattappa.uuid();
      }
    }
    return data;
  }
  var editor = React.createElement(Kattappa.Editor, {
    blockUrl: blockUrl,
    processData: processData,
    onSave: function(blocks) {
      console.log(blocks);
      alert('Check console for blocks data');
    }
  });
  React.render(editor, document.getElementById("editor-ui"));
  </script>
  {% if site.ga_id %}
      {% include analytics.html %}
  {% endif %}
</body>
</html>
