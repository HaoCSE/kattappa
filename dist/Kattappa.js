/*!
 * kattappa
 * Version - 0.5.1
 * Author - Brijesh Bittu <brijeshb42@gmail.com>
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom"),require("medium-editor"),require("isomorphic-fetch")):"function"==typeof define&&define.amd?define(["react","react-dom","medium-editor","isomorphic-fetch"],t):"object"==typeof exports?exports.Kattappa=t(require("react"),require("react-dom"),require("medium-editor"),require("isomorphic-fetch")):e.Kattappa=t(e.React,e.ReactDOM,e.MediumEditor,e.fetch)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),a=n(3),i=r(a),s=n(8),u=r(s),l=n(19),c=r(l),p=n(25),f=r(p),h=n(32),d=r(h);e.exports={Editor:i["default"],Blocks:u["default"],uuid:o.uuid,BaseEmbed:c["default"],MediumComponent:f["default"],DroppableComponent:d["default"],UrlRegex:o.UrlRegex}},function(e,t){"use strict";e.exports={uuid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+"-"+e()},UrlRegex:/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(4),p=r(c),f=n(5),h=r(f),d=n(6),m=r(d),b=n(7),y=r(b),v=n(2),g=n(8),k=r(g),w=n(17),E=r(w),O="<p>==</p>",C=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleBlockAction=n.handleBlockAction.bind(n),n.getBlocks=n.getBlocks.bind(n),n.addBlock=n.addBlock.bind(n),n.contentChange=n.contentChange.bind(n),n.getToolbar=n.getToolbar.bind(n),n.renderBlocks=n.renderBlocks.bind(n),n.splitBlock=n.splitBlock.bind(n),n}return i(t,e),l(t,[{key:"splitBlock",value:function(e){var t=this.props.splitter,n=this.props.blocks,r=n[e];if(!(r.type!==k["default"].text.Name||r.data.indexOf(t)<0)){var o=r.data.split(t),a=[];o.forEach(function(e){""!==e&&a.push(e)}),n.splice(e,1);var i=e,s={};a.forEach(function(e){s={type:k["default"].text.Name,data:e,key:(0,v.uuid)()},n.splice(i++,0,s)}),this.props.onChange(n)}}},{key:"handleBlockAction",value:function(e,t){var n=this.props.blocks,r=this.props.availableBlocks;if(e===h["default"].REMOVE){if(!r[n[t].type].isEmpty(n[t].data)&&!confirm("Are you sure?"))return;n.splice(t,1)}else e===h["default"].UP?n.splice(t-1,2,n[t],n[t-1]):e===h["default"].DOWN&&n.splice(t,2,n[t+1],n[t]);this.props.onChange(n)}},{key:"getBlocks",value:function(){return console.warn("This function will be deprecated in the next version."),this.props.blocks}},{key:"addBlock",value:function(e,t){var n=this.props.blocks;if(!(-1>t||t>n.length)){var r=this.props.blocks,o=this.props.availableBlocks;if(o[e]){if(0!==o[e].maximumBlocks){var a=function(){var t=0;return n.forEach(function(n,r){n.type===e&&t++}),t>=o[e].maximumBlocks?{v:void 0}:void 0}();if("object"===("undefined"==typeof a?"undefined":u(a)))return a.v}var i={type:e,data:o[e].Empty(),key:(0,v.uuid)()};r.splice(t+1,0,i),this.props.onChange(r)}}}},{key:"contentChange",value:function(e,t){var n=this.props.blocks;n[e].data=t,this.props.onChange(n)}},{key:"getToolbar",value:function(e){return p["default"].createElement(m["default"],{blockAction:this.handleBlockAction,position:e,className:"katap-control-toolbar katap-clearfix",length:this.props.blocks.length})}},{key:"renderBlocks",value:function(){var e=this,t=this.props.blocks,n=this.props.availableBlocks;if(t.length<1)return p["default"].createElement(y["default"],{position:0,addBlock:this.addBlock,availableBlocks:n});var r=t.map(function(t,r){var o=n[t.type].React;return n[t.type]?p["default"].createElement("div",{key:t.key,className:"katap-container"},e.getToolbar(r),p["default"].createElement(o,s({ref:"block"+r,position:r,content:t.data,addBlock:e.addBlock,onContentChanged:e.contentChange,UploadUrl:e.props.UploadUrl,EmbedTypes:e.props.EmbedTypes,splitBlock:e.splitBlock},e.props)),p["default"].createElement(y["default"],{position:r,addBlock:e.addBlock,availableBlocks:n})):null});return r}},{key:"render",value:function(){return this.props.blocks.length>0?p["default"].createElement("div",{className:"katap-listing"},p["default"].createElement(y["default"],{position:-1,addBlock:this.addBlock,availableBlocks:this.props.availableBlocks}),this.renderBlocks()):p["default"].createElement("div",{className:"katap-listing"},this.renderBlocks())}}]),t}(p["default"].Component);t["default"]=C,C.defaultProps={availableBlocks:k["default"],EmbedTypes:E["default"],getBlocks:function(){return[]},UploadUrl:"",splitter:O}},function(t,n){t.exports=e},function(e,t){"use strict";e.exports={UP:"up",DOWN:"down",REMOVE:"remove"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),p=r(c),f=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleClick=n.handleClick.bind(n),n.getToolbar=n.getToolbar.bind(n),n}return i(t,e),s(t,[{key:"handleClick",value:function(e){var t=Array.prototype.slice.call(e.currentTarget.children),n=t.indexOf(e.target);if(!(0>n)){var r=t[n].getAttribute("data-action");this.props.blockAction(r,this.props.position)}}},{key:"getToolbar",value:function(e){if(this.props.onlyRemove)return l["default"].createElement("div",{className:this.props.className,onClick:this.handleClick},l["default"].createElement("button",{title:"Remove","data-action":p["default"].REMOVE,key:p["default"].REMOVE},"×"));var t=[];return 0===e&&this.props.length<2?t.push(l["default"].createElement("button",{title:"Delete","data-action":p["default"].REMOVE,key:p["default"].REMOVE},"×")):0===e?(t.push(l["default"].createElement("button",{title:"Delete","data-action":p["default"].REMOVE,key:p["default"].REMOVE},"×")),t.push(l["default"].createElement("button",{title:"Move Down","data-action":p["default"].DOWN,key:p["default"].DOWN},"↓"))):e===this.props.length-1?(t.push(l["default"].createElement("button",{title:"Delete","data-action":p["default"].REMOVE,key:p["default"].REMOVE},"×")),t.push(l["default"].createElement("button",{title:"Move Up","data-action":p["default"].UP,key:p["default"].UP},"↑"))):(t.push(l["default"].createElement("button",{title:"Delete","data-action":p["default"].REMOVE,key:p["default"].REMOVE},"×")),t.push(l["default"].createElement("button",{title:"Move Up","data-action":p["default"].UP,key:p["default"].UP},"↑")),t.push(l["default"].createElement("button",{title:"Move Down","data-action":p["default"].DOWN,key:p["default"].DOWN},"↓"))),l["default"].createElement("div",{className:this.props.className,onClick:this.handleClick},t)}},{key:"render",value:function(){return this.getToolbar(this.props.position)}}]),t}(l["default"].Component);f.defaultProps={onlyRemove:!1,className:"katap-control-toolbar"},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),p=(r(c),n(8)),f=r(p),h=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={visible:!1},n.toggleState=n.toggleState.bind(n),n.addBlock=n.addBlock.bind(n),n}return i(t,e),s(t,[{key:"toggleState",value:function(e){var t=Array.prototype.slice.call(e.currentTarget.children),n=t.indexOf(e.target);0>n||(this.setState({visible:!this.state.visible}),this.state.visible&&0!==n&&this.props.addBlock(t[n].getAttribute("title"),this.props.position))}},{key:"addBlock",value:function(e,t){this.props.addBlock()}},{key:"render",value:function(){var e=this.props.availableBlocks;return this.state.visible?l["default"].createElement("div",{className:"katap-toolbar",onClick:this.toggleState},l["default"].createElement("button",{title:"Close"},"×"),Object.keys(e).map(function(t,n){return l["default"].createElement("button",{title:t,key:n},e[t].Description)})):l["default"].createElement("div",{className:"katap-toolbar",onClick:this.toggleState},l["default"].createElement("button",{title:"Add block"},"+"))}}]),t}(l["default"].Component);h.defaultProps={availableBlocks:f["default"]},t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(9),a=r(o),i=n(24),s=r(i),u=n(30),l=r(u),c=n(31),p=r(c),f=n(34),h=r(f),d=n(36),m=r(d),b=n(29),y=r(b),v=n(37),g=r(v);e.exports={text:y["default"],image:p["default"],embed:a["default"],quote:m["default"],h2:s["default"],ol:h["default"],ul:g["default"],hr:l["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=f["default"].parse(e);return t.hostname}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=r(l),p=n(10),f=r(p),h=n(2),d=n(16),m=r(d),b=n(17),y={Name:"embed",Icon:"",Empty:function(){return{url:"",subtext:""}},maximumBlocks:0,Description:"Embed",isEmpty:function(e){return""===e},EmbedTypes:b},v=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={loaded:!1,domain:"",url:"",className:""},n.getClassName=n.getClassName.bind(n),n.checkUrls=n.checkUrls.bind(n),n.handleUrl=n.handleUrl.bind(n),n.checkContent=n.checkContent.bind(n),n.renderBlock=n.renderBlock.bind(n),n.changeSubtext=n.changeSubtext.bind(n),n.onDrop=n.onDrop.bind(n),n.onDragEnter=n.onDragEnter.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDragLeave=n.onDragLeave.bind(n),n}return i(t,e),u(t,[{key:"getClassName",value:function(){return"katap-block katap-embed "+(this.props.className||this.state.className)}},{key:"checkUrls",value:function(e,t){if(e.indexOf("http")<0&&(e="https://"+e),h.UrlRegex.test(e)){var n=s(e),r=this.props.EmbedTypes;for(var o in r)if(n.indexOf(o)>-1)return void this.setState({loaded:!0,domain:o,url:e});alert("This URL is not supported."),this.refs.input.value=""}else t||(alert("Enter a valid url"),this.refs.input.value="");h.UrlRegex.lastIndex=0}},{key:"handleUrl",value:function(e){e.keyCode===m["default"].ENTER&&this.checkUrls(e.target.value,!1)}},{key:"componentDidMount",value:function(){""===this.props.content.url&&this.refs.input.focus(),this.checkUrls(this.props.content.url,!0)}},{key:"checkContent",value:function(e,t){if(e&&this.props.onContentChanged){var n=this.props.content;n.url=this.state.url,this.props.onContentChanged(this.props.position,n)}else alert(t)}},{key:"changeSubtext",value:function(e){if(this.props.onContentChanged){var t={url:this.props.content.url,subtext:e.target.value};this.props.onContentChanged(this.props.position,t)}}},{key:"onDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({className:"katap-embed-dragover"})}},{key:"onDragOver",value:function(e){return e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",!1}},{key:"onDrop",value:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),this.setState({className:""});var t=e.dataTransfer.getData("URL");""===t&&(t=e.dataTransfer.getData("text")),""!==t&&this.checkUrls(t,!1)}},{key:"onDragLeave",value:function(e){this.setState({className:"katap-block katap-embed"})}},{key:"renderBlock",value:function(){var e=this.props.EmbedTypes,t=e[this.state.domain];return c["default"].createElement(t,{url:this.state.url,checkContent:this.checkContent,content:this.props.content})}},{key:"render",value:function(){var e=this.props.content;return this.state.loaded?c["default"].createElement("div",{className:"katap-block"},this.renderBlock(),c["default"].createElement("input",{type:"text",placeholder:"Embed subtext",onChange:this.changeSubtext,value:e.subtext})):c["default"].createElement("div",{className:this.getClassName(),onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},c["default"].createElement("p",null,"Drop links here or paste below"),c["default"].createElement("input",{ref:"input",type:"text",placeholder:"Enter URL and press enter",onKeyUp:this.handleUrl}),c["default"].createElement("p",null,"Supported embeds: ",Object.keys(this.props.EmbedTypes).join(", ")))}}]),t}(c["default"].Component);v.defaultProps={EmbedTypes:b},y.React=v,t["default"]=y},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&l(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function a(e){return u(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function i(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function p(e){return null==e}var f=n(11);t.parse=o,t.resolve=i,t.resolveObject=s,t.format=a,t.Url=r;var h=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],b=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(b),v=["%","/","?",";","#"].concat(y),g=["/","?","#"],k=255,w=/^[a-z0-9A-Z_-]{0,63}$/,E=/^([a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=n(13);r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var o=h.exec(r);if(o){o=o[0];var a=o.toLowerCase();this.protocol=a,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var i="//"===r.substr(0,2);!i||o&&C[o]||(r=r.substr(2),this.slashes=!0)}if(!C[o]&&(i||o&&!_[o])){for(var s=-1,l=0;l<g.length;l++){var c=r.indexOf(g[l]);-1!==c&&(-1===s||s>c)&&(s=c)}var p,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(p=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(p)),s=-1;for(var l=0;l<v.length;l++){var c=r.indexOf(v[l]);-1!==c&&(-1===s||s>c)&&(s=c)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var b=this.hostname.split(/\./),l=0,x=b.length;x>l;l++){var P=b[l];if(P&&!P.match(w)){for(var R="",D=0,T=P.length;T>D;D++)R+=P.charCodeAt(D)>127?"x":P[D];if(!R.match(w)){var N=b.slice(0,l),M=b.slice(l+1),B=P.match(E);B&&(N.push(B[1]),M.unshift(B[2])),M.length&&(r="/"+M.join(".")+r),this.hostname=N.join(".");break}}}if(this.hostname.length>k?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var S=this.hostname.split("."),I=[],l=0;l<S.length;++l){var U=S[l];I.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+f.encode(U):U)}this.hostname=I.join(".")}var L=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+L,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!O[a])for(var l=0,x=y.length;x>l;l++){var q=y[l],H=encodeURIComponent(q);H===q&&(H=escape(q)),r=r.split(q).join(H)}var V=r.indexOf("#");-1!==V&&(this.hash=r.substr(V),r=r.slice(0,V));var F=r.indexOf("?");if(-1!==F?(this.search=r.substr(F),this.query=r.substr(F+1),t&&(this.query=j.parse(this.query)),r=r.slice(0,F)):t&&(this.search="",this.query={}),r&&(this.pathname=r),_[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",U=this.search||"";this.path=L+U}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(a=j.stringify(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+o+n+i+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||C[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",i=n.search||"";n.path=a+i}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),f=l||s||n.host&&e.pathname,h=f,d=n.pathname&&n.pathname.split("/")||[],o=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!_[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),f=f&&(""===o[0]||""===d[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,d=o;else if(o.length)d||(d=[]),d.pop(),d=d.concat(o),n.search=e.search,n.query=e.query;else if(!p(e.search)){if(m){n.hostname=n.host=d.shift();var b=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=d.slice(-1)[0],v=(n.host||e.host)&&("."===y||".."===y)||""===y,g=0,k=d.length;k>=0;k--)y=d[k],"."==y?d.splice(k,1):".."===y?(d.splice(k,1),g++):g&&(d.splice(k,1),g--);if(!f&&!h)for(;g--;g)d.unshift("..");!f||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),v&&"/"!==d.join("/").substr(-1)&&d.push("");var w=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(m){n.hostname=n.host=w?"":d.length?d.shift():"";var b=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;b&&(n.auth=b.shift(),n.host=n.hostname=b.shift())}return f=f||n.host&&d.length,f&&!w&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=d.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;(function(e,o){!function(a){function i(e){throw RangeError(N[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(T,".");var o=e.split("."),a=s(o,t).join(".");return r+a}function l(e){for(var t,n,r=[],o=0,a=e.length;a>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&a>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function p(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:w}function f(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var r=0;for(e=n?B(e/_):e>>1,e+=B(e/t);e>M*O>>1;r+=w)e=B(e/M);return B(r+(M+1)*e/(e+C))}function d(e){var t,n,r,o,a,s,u,l,f,d,m=[],b=e.length,y=0,v=x,g=j;for(n=e.lastIndexOf(P),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;b>o;){for(a=y,s=1,u=w;o>=b&&i("invalid-input"),l=p(e.charCodeAt(o++)),(l>=w||l>B((k-y)/s))&&i("overflow"),y+=l*s,f=g>=u?E:u>=g+O?O:u-g,!(f>l);u+=w)d=w-f,s>B(k/d)&&i("overflow"),s*=d;t=m.length+1,g=h(y-a,t,0==a),B(y/t)>k-v&&i("overflow"),v+=B(y/t),y%=t,m.splice(y++,0,v)}return c(m)}function m(e){var t,n,r,o,a,s,u,c,p,d,m,b,y,v,g,C=[];for(e=l(e),b=e.length,t=x,n=0,a=j,s=0;b>s;++s)m=e[s],128>m&&C.push(S(m));for(r=o=C.length,o&&C.push(P);b>r;){for(u=k,s=0;b>s;++s)m=e[s],m>=t&&u>m&&(u=m);for(y=r+1,u-t>B((k-n)/y)&&i("overflow"),n+=(u-t)*y,t=u,s=0;b>s;++s)if(m=e[s],t>m&&++n>k&&i("overflow"),m==t){for(c=n,p=w;d=a>=p?E:p>=a+O?O:p-a,!(d>c);p+=w)g=c-d,v=w-d,C.push(S(f(d+g%v,0))),c=B(g/v);C.push(S(f(c,0))),a=h(n,y,r==o),n=0,++r}++n,++t}return C.join("")}function b(e){return u(e,function(e){return R.test(e)?d(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return D.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);v.global!==v&&v.window!==v&&v.self!==v||(a=v);var g,k=2147483647,w=36,E=1,O=26,C=38,_=700,j=72,x=128,P="-",R=/^xn--/,D=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=w-E,B=Math.floor,S=String.fromCharCode;g={version:"1.3.2",ucs2:{decode:l,encode:c},decode:d,encode:m,toASCII:y,toUnicode:b},r=function(){return g}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(12)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";t.decode=t.parse=n(14),t.encode=t.stringify=n(15)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;u>l;++l){var c,p,f,h,d=e[l].replace(i,"%20"),m=d.indexOf(r);m>=0?(c=d.substr(0,m),p=d.substr(m+1)):(c=d,p=""),f=decodeURIComponent(c),h=decodeURIComponent(p),n(a,f)?Array.isArray(a[f])?a[f].push(h):a[f]=[a[f],h]:a[f]=h}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var a=encodeURIComponent(n(o))+r;return Array.isArray(e[o])?e[o].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[o]))}).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""}},function(e,t){"use strict";e.exports={ENTER:13,ESC:27,BACKSPACE:8}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(18),a=r(o),i=n(20),s=r(i),u=n(21),l=r(u),c=n(22),p=r(c),f=n(23),h=r(f);e.exports={youtube:a["default"],instagram:p["default"],vimeo:s["default"],vine:l["default"],facebook:h["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(19),p=r(c),f=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return this.state.valid?this.state.preview?l["default"].createElement("div",{className:"katap-embed katap-youtube"},l["default"].createElement("iframe",{src:"//youtube.com/embed/"+this.state.id,frameBorder:0,width:580,height:320,allowFullScreen:!0})):l["default"].createElement("div",{className:"katap-embed katap-youtube"},l["default"].createElement("p",null,"Youtube Video - ",l["default"].createElement("a",{href:this.props.url,target:"_blank"},this.props.url)),l["default"].createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):l["default"].createElement("div",{className:"katap-embed"},"Invalid Youtube URL.")}}]),t}(p["default"]);f.defaultProps={url:"",regex:/^.*(?:(?:youtu\.be\/)|(?:youtube\.com)\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*)/},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={message:"Wait",id:"",valid:!1,preview:!1},n.validate=n.validate.bind(n),n.extraHandler=n.extraHandler.bind(n),n.showPreview=n.showPreview.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.validate(),this.extraHandler()}},{key:"extraHandler",value:function(){}},{key:"showPreview",value:function(){this.setState({preview:!this.state.preview})}},{key:"validate",value:function(){var e;return e=this.props.regex.exec(this.props.url),this.props.regex.lastIndex=0,e?(this.setState({message:"OK.",id:e[1],valid:!0}),void this.props.checkContent(!0)):(this.props.checkContent(!1),void this.setState({message:"error."}))}},{key:"render",value:function(){return l["default"].createElement("div",{"class":"katap-embed"})}}]),t}(l["default"].Component);c.defaultProps={url:"",regex:/^$/},t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(19),p=r(c),f=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return this.state.valid?this.state.preview?l["default"].createElement("div",{className:"katap-embed katap-vimeo"},l["default"].createElement("iframe",{src:"//player.vimeo.com/video/"+this.state.id,frameBorder:0,width:580,height:320,allowFullScreen:!0})):l["default"].createElement("div",{className:"katap-embed katap-vimeo"},l["default"].createElement("p",null,"Vimeo - ",l["default"].createElement("a",{href:this.props.url,target:"_blank"},this.props.url)),l["default"].createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):l["default"].createElement("div",{className:"katap-embed"},"Invalid Vimeo URL.")}}]),t}(p["default"]);f.defaultProps={url:"",regex:/(?:http[s]?:\/\/)?(?:www.)?vimeo\.co(?:.+(?:\/)([^\/].*)+$)/},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(19),p=r(c),f=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.loadExternalScript=n.loadExternalScript.bind(n),n}return i(t,e),s(t,[{key:"loadExternalScript",value:function(){var e=this.props.scriptUrl,t=document.createElement("script");t.src=e,t.async=1,window.document.body.appendChild(t)}},{key:"extraHandler",value:function(){this.loadExternalScript()}},{key:"render",value:function(){return this.state.valid?this.state.preview?l["default"].createElement("div",{className:"katap-embed katap-vine"},l["default"].createElement("iframe",{className:"vine-embed",src:"//vine.co/v/"+this.state.id+"/embed/postcard",frameBorder:0,width:600,height:600,allowFullScreen:!0})):l["default"].createElement("div",{className:"katap-embed katap-vine"},l["default"].createElement("p",null,"Vine - ",l["default"].createElement("a",{href:this.props.url,target:"_blank"},this.props.url)),l["default"].createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):l["default"].createElement("div",{className:"katap-embed"},"Invalid Vimeo URL.")}}]),t}(p["default"]);f.defaultProps={regex:/https?:\/\/vine\.co\/v\/([a-zA-Z0-9].*)\/?/,scriptUrl:"//platform.vine.co/static/scripts/embed.js"},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(19),p=r(c),f=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return this.state.valid?this.state.preview?l["default"].createElement("div",{className:"katap-embed katap-instagram"},l["default"].createElement("iframe",{src:"//instagram.com/p/"+this.state.id+"/embed",frameBorder:0,allowFullScreen:!0})):l["default"].createElement("div",{className:"katap-embed katap-instagram"},l["default"].createElement("p",null,"Instagram - ",l["default"].createElement("a",{href:this.props.url,target:"_blank"},this.props.url)),l["default"].createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):l["default"].createElement("div",{className:"katap-embed"},"Invalid Instagram URL.")}}]),t}(p["default"]);f.defaultProps={url:"",regex:/https?:\/\/(?:www\.){0,1}instagram\.com\/p\/([^\/]+)\/?.*/gi},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(19),p=r(c),f=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={message:"Wait",id:"",valid:!1,html:""},n.validate=n.validate.bind(n),n.loadExternalScript=n.loadExternalScript.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.validate()}},{key:"showPreview",value:function(){this.setState({preview:!this.state.preview}),this.loadExternalScript()}},{key:"loadExternalScript",value:function(){if(window.FB&&window.FB.init)return void window.FB.init({xfbml:!0,version:"v2.3"});var e=document.createElement("script");e.src=this.props.scriptUrl,e.async=1,window.document.body.appendChild(e)}},{key:"validate",value:function(){var e;if(e=this.props.regex.exec(this.props.url),this.props.regex.lastIndex=0,!e)return this.props.checkContent(!1),void this.setState({message:"error."});var t='<div class="fb-post" data-href="'+this.props.url+'" data-width="750"></div>';this.props.url.indexOf("/videos/")>0&&(t='<div class="fb-video" data-href="'+this.props.url+'" data-allowfullscreen="true" data-width="750"></div>'),this.setState({message:"Loading Facebook embed...",id:e[1],valid:!0,html:t}),this.props.checkContent(!0)}},{key:"render",value:function(){return this.state.valid?this.state.preview?l["default"].createElement("div",{className:"katap-embed katap-facebook",dangerouslySetInnerHTML:{__html:this.state.html}}):l["default"].createElement("div",{className:"katap-embed katap-facebook"},l["default"].createElement("p",null,"Facebook - ",l["default"].createElement("a",{href:this.props.url,target:"_blank"},this.props.url)),l["default"].createElement("button",{className:"katap-show-preview-btn",onClick:this.showPreview},"Preview")):l["default"].createElement("div",{className:"katap-embed katap-twitter"},"This fb URL is not supported.")}}]),t}(p["default"]);f.defaultProps={url:"",regex:/https?:\/\/www\.facebook\.com\/(.*)\/(videos|posts|photos)\/.*/gi,scriptUrl:"//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3"},t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(25),p=r(c),f=n(28),h=r(f),d=n(29),m=r(d),b=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"captureReturn",value:function(){this.props.addBlock("text",this.props.position)}},{key:"render",value:function(){return l["default"].createElement("h2",{className:"katap-block katap-h2"},l["default"].createElement(p["default"],{options:h["default"],content:this.props.content,captureReturn:this.captureReturn,enterCapture:!0,onContentChanged:this.onContentChanged}))}}]),t}(m["default"].React),y={Name:"h2",React:b,Icon:"",Empty:function(){return""},maximumBlocks:0,Description:"Heading",isEmpty:function(e){return""===e.replace(/(<([^>]+)>)/gi,"")}};t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(26),p=r(c),f=n(27),h=r(f),d=n(16),m=r(d),b={toolbar:{buttons:["bold","italic","underline","anchor","strikethrough"]},autoLink:!1,imageDragging:!1,placeholder:{text:"Write your story...",hideOnClick:!1},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanReplacements:[[/<!--[^>]*-->/gi,""]],cleanAttrs:["class","dir","style"],cleanTags:["label","meta","aside","span"]},disableExtraSpaces:!0,extensions:{imageDragging:{}}},y=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={content:n.props.content},n.dom=null,n._updated=!1,n.change=n.change.bind(n),n.placeCaretAtEnd=n.placeCaretAtEnd.bind(n),n.captureReturn=n.captureReturn.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=p["default"].findDOMNode(this);this.dom=t;var n=this.props.options;n.cleanTags=["meta","span"],this.medium=new h["default"](t,n),window.medium=this.medium,this.props.enterCapture?(this.medium.subscribe("editableKeyup",this.captureReturn),this.medium.subscribe("editableInput",function(n){e._updated=!0,e.change(t.innerHTML.replace("<p><br></p>",""))})):this.medium.subscribe("editableInput",function(n){e._updated=!0,e.change(t.innerHTML)}),""===this.state.content&&setTimeout(this.placeCaretAtEnd,0)}},{key:"componentWillUnmount",value:function(){this.medium.destroy(),this.dom=null}},{key:"componentWillReceiveProps",value:function(e){e.content===this.state.content||this._updated||this.setState({content:e.content}),this._updated&&(this._updated=!1)}},{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"change",value:function(e){this.props.onContentChanged&&this.props.onContentChanged(e)}},{key:"placeCaretAtEnd",value:function(){var e=this.dom;if(e.focus(),"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if("undefined"!=typeof document.body.createTextRange){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}},{key:"captureReturn",value:function(e){e.which===m["default"].ENTER&&(e.preventDefault(),this.props.captureReturn&&(this.props.captureReturn(),this.dom.innerHTML=this.dom.innerHTML.replace("<p><br></p>",""),this.props.onContentChanged(this.dom.innerHTML.replace("<p><br></p>",""))))}},{key:"render",value:function(){return l["default"].createElement("div",{ref:"mediumeditor",className:"katap-medium-editor markdown-body",options:this.props.options,dangerouslySetInnerHTML:{__html:this.state.content},contentEditable:!0})}}]),t}(l["default"].Component);t["default"]=y,h["default"].defaultProps={options:b,enterCapture:!1}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={toolbar:{buttons:["bold","italic","underline","anchor","strikethrough"]},autoLink:!1,imageDragging:!1,placeholder:{text:"Write your story..."},paste:{forcePlainText:!0,cleanPastedHTML:!0,cleanReplacements:[[/<!--[^>]*-->/gi,""]],cleanAttrs:["class","dir","style","name","id"],cleanTags:["label","meta","aside","span"]},disableExtraSpaces:!1,extensions:{imageDragging:{}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(25),p=r(c),f=n(28),h=r(f),d=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.captureReturn=n.captureReturn.bind(n),n.onContentChanged=n.onContentChanged.bind(n),n.splitBlock=n.splitBlock.bind(n),n}return i(t,e),s(t,[{key:"captureReturn",value:function(){this.props.addBlock("text",this.props.position)}},{key:"onContentChanged",value:function(e){this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}},{key:"splitBlock",value:function(e){this.props.splitBlock(this.props.position)}},{key:"render",value:function(){return l["default"].createElement("div",{className:"katap-block katap-text"},l["default"].createElement("div",{className:"katap-toolbar-wrapper katap-clearfix"},l["default"].createElement("button",{className:"katap-splitter",onClick:this.splitBlock,title:"Click to split this block. Content should be searated by a new line."},"</>")),l["default"].createElement(p["default"],{content:this.props.content,options:h["default"],onContentChanged:this.onContentChanged}))}}]),t}(l["default"].Component),m={Name:"text",React:d,Icon:"",Empty:function(){return""},maximumBlocks:0,Description:"Text",isEmpty:function(e){return""===e.replace(/(<([^>]+)>)/gi,"")}};t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=function(e){function t(){return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("hr",{className:"katap-block katap-hr"})}}]),t}(l["default"].Component),p={Name:"hr",React:c,Icon:"",Empty:function(){return""},maximumBlocks:0,Description:"Break",isEmpty:function(e){return!0}};t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(32),p=r(c),f=n(16),h=r(f),d=n(2);n(33);var m=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.handleImage=n.handleImage.bind(n),n.changeItem=n.changeItem.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.content;e&&""!==e.url||this.refs.img.focus()}},{key:"handleImage",value:function(e){var t=this,n=this.props.content;this.props.onFilesAdded(e,function(e){e&&""!==e&&(n.url=e,t.props.onContentChanged(t.props.position,n))},function(e){alert("Error while uploading files.")})}},{key:"changeItem",value:function(e,t){if(this.props.onContentChanged){var n=this.props.content;n[e]=t.target.value,this.props.onContentChanged(this.props.position,n)}}},{key:"handleKeyPress",value:function(e){if(e.which===h["default"].ENTER){if(d.UrlRegex.test(e.target.value)){var t={};t.subtext=this.props.content.subtext,t.url=e.target.value,this.props.onContentChanged&&this.props.onContentChanged(this.props.position,t)}else alert("Enter a valid URL.");d.UrlRegex.lastIndex=0}}},{key:"imageLoaded",value:function(e){0===e.target.src.indexOf("blob:")&&URL.revokeObjectURL(e.target.src)}},{key:"render",value:function(){var e=this.props.content;return l["default"].createElement("div",{className:"katap-block katap-image"},e&&""!==e.url?l["default"].createElement("div",null,l["default"].createElement("img",{src:e.url,onLoad:this.imageLoaded}),l["default"].createElement("input",{type:"text",className:"katap-image-subtext",placeholder:"Image subtext",onChange:this.changeItem.bind(this,"subtext"),value:e.subtext}),l["default"].createElement("input",{type:"text",className:"katap-image-subtext",placeholder:"Hyperlink",onChange:this.changeItem.bind(this,"hyperlink"),value:e.hyperlink})):l["default"].createElement("div",null,l["default"].createElement("input",{ref:"img",type:"text",placeholder:"Paste URL of image and press enter",onKeyDown:this.handleKeyPress}),l["default"].createElement(p["default"],{onDrop:this.handleImage},l["default"].createElement("p",null,this.props.message))))}}]),t}(l["default"].Component);m.defaultProps={message:"Or Drop image here or click to add.",onFilesAdded:function(e){console.log(e)}};var b={Name:"image",React:m,Icon:"",Empty:function(){return{url:"",subtext:"",hyperlink:""}},maximumBlocks:0,Description:"Image",isEmpty:function(e){return""===e.url}};t["default"]=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(26),p=(r(c),function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={className:""},n.getClassName=n.getClassName.bind(n),n.onDragEnter=n.onDragEnter.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDragLeave=n.onDragLeave.bind(n),n.onClick=n.onClick.bind(n),n.onDrop=n.onDrop.bind(n),n}return i(t,e),s(t,[{key:"getClassName",value:function(){return"katap-droppable "+(this.props.className||this.state.className)}},{key:"onDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({className:"katap-drop-active"})}},{key:"componentDidMount",value:function(){this.refs.droppable.focus()}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",this.props.onDragOver&&this.props.onDragOver(e)}},{key:"onDragLeave",value:function(e){this.setState({className:""}),this.props.onDragLeave&&this.props.onDragLeave(e)}},{key:"onClick",value:function(){var e=this.refs.input;e.value=null,e.click()}},{key:"onDrop",value:function(e){e.preventDefault();var t;e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);for(var n=this.props.multiple?t.length:1,r=0;n>r;r++)t[r].preview=URL.createObjectURL(t[r]);this.props.onDrop&&(t=Array.prototype.slice.call(t,0,n),this.props.onDrop(t))}},{key:"render",value:function(){return l["default"].createElement("div",{ref:"droppable",style:{height:100},className:this.getClassName(),onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onClick:this.onClick,onDrop:this.onDrop},l["default"].createElement("input",{ref:"input",type:"file",style:{display:"none"},multiple:this.props.multiple,onChange:this.onDrop}),this.props.children)}}]),t}(l["default"].Component));p.defaultProps={supportClick:!0,multiple:!1},t["default"]=p},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),p=(r(c),n(35)),f=r(p),h=n(6),d=r(h),m=n(2),b=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.onContentChanged=n.onContentChanged.bind(n),n.addItem=n.addItem.bind(n),n.handleItemRemove=n.handleItemRemove.bind(n),n.renderListItem=n.renderListItem.bind(n),n}return i(t,e),s(t,[{key:"onContentChanged",value:function(e,t){this.props.content[e].content=t,this.props.onContentChanged&&this.props.onContentChanged(this.props.position,this.props.content)}},{key:"addItem",value:function(e){if(!(0>e||e>=this.props.content.length)){var t=this.props.content;t.push({content:"",key:(0,m.uuid)()}),this.props.onContentChanged&&this.props.onContentChanged(this.props.position,t)}}},{key:"handleItemRemove",value:function(e,t){var n=this.props.content;n.splice(t,1),this.props.onContentChanged&&this.props.onContentChanged(this.props.position,n)}},{key:"renderListItem",value:function(){var e=this,t=[];return this.props.content.map(function(n,r){t.push(l["default"].createElement("li",{key:n.key},l["default"].createElement(d["default"],{onlyRemove:!0,blockAction:e.handleItemRemove,position:r,className:"katap-list-block-control",length:e.props.content.length}),l["default"].createElement(f["default"],{position:r,content:n.content,addItem:e.addItem,onContentChanged:e.onContentChanged})))}),t}},{key:"render",value:function(){return l["default"].createElement("ol",{className:"katap-block katap-list"},this.renderListItem())}}]),t}(l["default"].Component),y={Name:"ol",React:b,Icon:"",Empty:function(){return[{content:"",key:(0,m.uuid)()}]},maximumBlocks:0,Description:"Ordered List",isEmpty:function(e){for(var t=0;t<e.length;t++)if(""!==e[t].content.replace(/(<([^>]+)>)/gi,""))return!1;return!0}};b.defaultProps={content:y.Empty()},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(25),p=r(c),f=n(28),h=r(f),d=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.captureReturn=n.captureReturn.bind(n),n.onContentChanged=n.onContentChanged.bind(n),n}return i(t,e),s(t,[{key:"captureReturn",value:function(){this.props.addItem&&this.props.addItem(this.props.position)}},{key:"onContentChanged",value:function(e){this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}},{key:"render",value:function(){return l["default"].createElement(p["default"],{content:this.props.content,captureReturn:this.captureReturn,enterCapture:!0,options:h["default"],onContentChanged:this.onContentChanged})}}]),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(28),p=r(c),f=n(29),h=r(f),d=n(25),m=r(d),b=function(e){function t(e){o(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.onContentChanged=n.onContentChanged.bind(n),n.onCreditChange=n.onCreditChange.bind(n),n}return i(t,e),s(t,[{key:"onContentChanged",value:function(e){var e={content:e,credit:this.props.content.credit};this.props.onContentChanged&&this.props.onContentChanged(this.props.position,e)}},{key:"onCreditChange",value:function(e){var t={content:this.props.content.content,credit:e.target.value};this.props.onContentChanged&&this.props.onContentChanged(this.props.position,t)}},{key:"render",value:function(){return l["default"].createElement("blockquote",{className:"katap-block katap-text"},l["default"].createElement(m["default"],{content:this.props.content.content,options:p["default"],onContentChanged:this.onContentChanged}),l["default"].createElement("input",{className:"katap-blockquote-credit",type:"text",placeholder:"Credit",onChange:this.onCreditChange,value:this.props.content.credit}))}}]),t}(h["default"].React),y={Name:"quote",React:b,Icon:"",Empty:function(){return{content:"",credit:""}},maximumBlocks:0,Description:"Block Quote",isEmpty:function(e){return""===e.content.replace(/(<([^>]+)>)/gi,"")}};b.defaultProps={content:y.Empty()},t["default"]=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(34),p=r(c),f=n(2),h=function(e){function t(){
return o(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("ul",{className:"katap-block katap-list"},this.renderListItem())}}]),t}(p["default"].React),d={Name:"ul",React:h,Icon:"",Empty:function(){return[{content:"",key:(0,f.uuid)()}]},maximumBlocks:0,Description:"Unordered List",isEmpty:function(e){for(var t=0;t<e.length;t++)if(""!==e[t].content.replace(/(<([^>]+)>)/gi,""))return!1;return!0}};h.defaultProps={content:d.Empty()},t["default"]=d}])});